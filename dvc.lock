schema: '2.0'
stages:
  prepare_annotations:
    cmd: pipenv run python ./src/ner/convert_bliou_to_bio.py ./data/annotation/annotation-result-orig.txt
      ./data/annotation/annotation-result.txt --out data/annotation/annotation-result-BIO.txt
    deps:
    - path: ./src/ner/convert_bliou_to_bio.py
      md5: 58229dba68e2cd8d80fa8ec7f45476c9
      size: 1940
    - path: data/annotation/annotation-result-orig.txt
      md5: f368553363edd3d250db16bfe443e176
      size: 663696
    - path: data/annotation/annotation-result.txt
      md5: a38ba160a65904f4a2f45910221aab64
      size: 1048470
    outs:
    - path: data/annotation/annotation-result-BIO.txt
      md5: 7f18755701f4ec76d05641cba2a305be
      size: 1376730
  prepare_language_model_train_set:
    cmd: pipenv run python ./src/ner/flair/prepare_lm_train_files.py ./data/jobs/seek_vacancies.db
    deps:
    - path: ./src/ner/flair/prepare_lm_train_files.py
      md5: 56d1e1751fd8524bf570602a76ab6ff7
      size: 1899
    - path: data/jobs/seek_vacancies.db
      md5: d01f95fd560d5092854627cacb9a7053
      size: 541581312
    params:
      params.yaml:
        flair.language_model_train.corpus_dir: data/corpus/jobs
    outs:
    - path: data/corpus/jobs/train
      md5: 14cd263f9b3a59dfff45f5cf07eb17d9.dir
      size: 373151466
      nfiles: 100
